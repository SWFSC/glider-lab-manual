---
title: Deployments
format: 
    html:
        code-fold: true
---

## Projects

The ESD deploys gliders under several different projects:

* **FREEBYRD**: Operation FREEBYRD is a long-term program to replace ship-based surveys with autonomous vehicles to estimate Antarctic krill biomass in support of the Convention for the Conservation of Antarctic Marine Living Resources (CCAMLR).

* **REFOCUS**: Reimagining Ecosystem and Fisheries Observations by Combining two UxS fleets (REFOCUS) aims to augment ship-based ecosystem monitoring using autonomous underwater gliders equipped with sensors for monitoring the physical and biological environment. The three primary objectives are to 1) Conduct regular (approximately every other month) deployments in the California Current in areas where the CalCOFI Program currently samples and is likely to sample in the future; 2) Improve capacity to collect data during event-driven ecosystem perturbations (e.g., marine heatwaves or harmful algal blooms); and 3) To alleviate competition for ship time.

* **ECOSWIM**: Operation ECOSWIM is for glider surveys in the California CCE off of Humboldt and Morro Bay, California, in the Southern California waters of the Pacific Ocean. These surveys may collect krill biomass estimates, among other scientific goals.

* **SANDIEGO**: Test deployments off of San Diego. These deployments may be, for instance, to test a glider before it goes to the Antarctic, or to test new sensors and/or sensor configurations for the Enhanced Data Acquisition Passive Acoustics Strategic Initiative, the Optics Strategic Initiative, or the Uncrewed Systems Strategic Initiative. 

## Deployments

The below table lists all (in progress) ESD (and formerly AERD) glider deployments, along with basic information about the deployment. The table also includes links to post-deployment reports, and links to data files where they exist. See [below](#data-links) for details on the data links.

Note that deployment names are always 'glider name'-'year-month-day'. For instance, deployment "amlr08-20220530" is the deployment of glider amlr08 that began on 30 May 2022.

See the [Fleet Status sheet](https://docs.google.com/spreadsheets/d/1tSIi44OTEUQXPJwwiy1emhdIyRs9Vt8iT5IlJBMrPLA/edit?usp=sharing) (NOAA internal) for more details.

<!-- <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vR1QEPFK9em24JT6-9p2MeW6Va6srqITFqsYpiF7x-QBAKdwYw4zeuJFOxjHr-4eeDRGzO-8Z0uE1z4/pubhtml?widget=true&amp;headers=false"style="width:950px; height:500px; border: 2px solid black;"></iframe> -->


```{r}
#| label: deployments-table
#| echo: false
#| message: false
#| warning: false

library(yaml)
library(dplyr)
library(DT)
library(tidyr)

# erddap_urls <- tibble::tribble(
#     ~Deployment_Name, ~ERDDAP, 
# )
    
drive_reports_urls <- tibble::tribble(
    ~Deployment_Name, ~Report, 
    "stenella-20250414", "https://docs.google.com/document/d/11aBBLY6xJhdd2vDwuhdBLK3SVcPaqnxbkMR-Fn0rgy0/edit?usp=drive_link", 
    "risso-20250414", "https://docs.google.com/document/d/1JWkHtAoQar3fr0TLmKJT9VI5O5IqFkpEw4G_07ZFRts/edit?usp=drive_link", 
    "unit_1024-20250224", "https://docs.google.com/document/d/1LQ9ch1gEuHtHEUbC7dymbtm9UlZu6IaePKbmLpKTlyU/edit?usp=sharing", 
    "amlr01-20241120", "https://docs.google.com/document/d/128D2a0Ud2Kda5JwIYVhN9An4CFT6KxdGoqS1RsHKtQ0/edit?usp=sharing", 
    "amlr08-20241120", "https://docs.google.com/document/d/1Bk2CQeC6dT7OtOInGbB85aCiE3qmz_S4JvjbNHziKyQ/edit?usp=sharing", 
    "calanus-20241019", "https://github.com/SWFSC/glider-lab/blob/main/deployment-reports/calanus-20241019.html", 
    "george-20240530", "https://docs.google.com/document/d/1MDVbBDjK2UvHjLFQ35nzniC-R7YycM6SZr0ymEFvapw/edit?usp=sharing", 
    "george-20240907", "https://docs.google.com/document/d/12hNl6ZtEIISh4vlJcOJgK1RHsloGIa98WKf5xpjIq0U/edit?usp=sharing", 
    "john-20240312", "https://docs.google.com/document/d/1szQ7tV5stz8fyuNzF05jM1zxUQmkAwQxzZcmHGlDgwg/edit?usp=sharing", 
    "ringo-20240312", "https://docs.google.com/document/d/12iSPkBChPjtPFbFQxX2hCopga3hvBr91qH1kJW_w5sw/edit?usp=sharing", 
    "calanus-20250617", "https://docs.google.com/document/d/1crniFu6WVACCfgD_7a6VqYcbG61CWJo3-jYNb1zoH6A/edit?usp=sharing"
)  

deployments_list <- read_yaml("esd-gliders.yml")
deployments_df <- bind_rows(deployments_list) %>% 
    select(-c(report_link)) %>% 
    rename(ERDDAP = ERDDAP_link) %>% 
    left_join(drive_reports_urls, by = join_by(Deployment_Name)) %>% 
    mutate(across(everything(), na_if, ""), 
            Report = if_else(is.na(Report), NA_character_, 
                            paste0("<a href='", Report, "'>link</a>"))) %>% 
    unite(`Internal Data`, starts_with("gcp_link_"), sep = " | ", 
            remove = TRUE, na.rm = TRUE) %>% 
    relocate(Report, .after = Sensors) %>%
    select(-c(Deployment_Name, Project, starts_with("gcp_link_"))) %>%
    arrange(desc(Start), Glider)

datatable(
    deployments_df,
    class = 'display',
    rownames = FALSE,
    escape = FALSE,
    options = list(
        pageLength = 10,
        autoWidth = TRUE
    ),
)

# gliders$Report <- dplyr::if_else(is.na(gliders$Report), "{in progress}", paste0('<a href="', gliders$Report, '" target="_blank">Report</a>'))

# knitr::kable(gliders, escape = FALSE)
# DT::datatable(gliders, escape = FALSE)
```

### Data Links

The above table contains several  links to different data products.

The 'ERDDAP' column will contain the link to the glider dataset when it is published to the [ERDDAP](https://gliders.ioos.us/erddap/index.html) of the [IOOS National Glider Data Assembly Center](https://gliders.ioos.us/).

The 'Reports' column contains links to various ESD-internal reports, detailing aspects of the glider prep, deployment, and/or repcovery. These reports are in the process of being converted to Quarto documents, after which they will be published externally.

The 'Internal Data' column contains links to various ESD-internal data products, stored within the ESD Google Cloud Platform (GCP) project. Users will only be able to access these data if they have been granted appropriate permissions within the project. Currently there are three different types of internal data links:

- **glider**: Data products from the ['base' glider processing](glider-data.qmd#base-processing) workflow. The most relevant data products for users will likely be the 'science' timeseries, and the gridded science data. 
- **plots**: Link the 'plots' folder, within the deployment folder. See a description of the structure of this folder [here](data-management.html#deployments). 
- **acoustics**: Link the 'acoustics' deployment folder. See a description of the structure of this folder [here](data-management.qmd#acoustics). 
- **imagery**: Link the the 'raw imagery' deployment folder. See a description of the structure of this folder [here](data-management.qmd#raw-imagery)
