<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Slocum Glider Data – ESD Glider Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b651517ce65839d647a86e2780455cfb.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-b68b14291fce0367c2cd0b7f2d3b5158.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-6878c03325e4b83cf38f0baaf9c01681.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-b68b14291fce0367c2cd0b7f2d3b5158.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XR503W12Z2"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XR503W12Z2', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<!-- <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/nmfs-ost/FIT-graphics/main/FIT_logo/logo_pngs/FIT_favicon_2022_color.png"> -->


<!-- start custom analytics snippet -->
<!-- Google tag (gtag.js) -->
<!-- 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XR503W12Z2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XR503W12Z2');
</script> 
-->

<!--- We participate in the US government's analytics program. See the data at analytics.usa.gov -->
<script id="_fed_an_ua_tag" async="" type="text/javascript" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=DOC&amp;subagency=NOAA"></script>

<!-- end custom analytics snippet -->
<!-- end custom head snippets -->


</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/data-proc-overview.html">Data Processing</a></li><li class="breadcrumb-item"><a href="../content/slocum-glider-data.html">Slocum Glider Data</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../content/images/hanging-glider-circle.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../content/images/hanging-glider-circle.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/SWFSC/glider-lab-manual" title="ESD Glider Lab Manual" class="quarto-navigation-tool px-1" aria-label="ESD Glider Lab Manual"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/best-practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Best Practices</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Glider Lab</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glider Lab</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/pilot-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glider Pilot Tools</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/deployments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/data-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Management</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Processing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/data-proc-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/slocum-glider-data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Slocum Glider Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/active-acoustics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Active Acoustics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/imagery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imagery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/gcp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Google Cloud</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a>
  <ul>
  <li><a href="#terminology" id="toc-terminology" class="nav-link" data-scroll-target="#terminology">Terminology</a></li>
  </ul></li>
  <li><a href="#base-processing" id="toc-base-processing" class="nav-link" data-scroll-target="#base-processing">Base Processing</a>
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a>
  <ul class="collapse">
  <li><a href="#binary_to_nc" id="toc-binary_to_nc" class="nav-link" data-scroll-target="#binary_to_nc">binary_to_nc</a></li>
  <li><a href="#deployment-yaml-files" id="toc-deployment-yaml-files" class="nav-link" data-scroll-target="#deployment-yaml-files">deployment YAML files</a></li>
  <li><a href="#deployment-processing-scripts" id="toc-deployment-processing-scripts" class="nav-link" data-scroll-target="#deployment-processing-scripts">deployment processing scripts</a></li>
  </ul></li>
  <li><a href="#data-products" id="toc-data-products" class="nav-link" data-scroll-target="#data-products">Data Products</a></li>
  <li><a href="#timeseries" id="toc-timeseries" class="nav-link" data-scroll-target="#timeseries">Timeseries</a>
  <ul class="collapse">
  <li><a href="#raw" id="toc-raw" class="nav-link" data-scroll-target="#raw">Raw</a></li>
  <li><a href="#eng-sci" id="toc-eng-sci" class="nav-link" data-scroll-target="#eng-sci">Eng + Sci</a></li>
  <li><a href="#processing-notes" id="toc-processing-notes" class="nav-link" data-scroll-target="#processing-notes">Processing Notes</a></li>
  </ul></li>
  <li><a href="#gridded" id="toc-gridded" class="nav-link" data-scroll-target="#gridded">Gridded</a></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">Plots</a></li>
  <li><a href="#ngdac-profiles" id="toc-ngdac-profiles" class="nav-link" data-scroll-target="#ngdac-profiles">NGDAC Profiles</a></li>
  <li><a href="#other-files" id="toc-other-files" class="nav-link" data-scroll-target="#other-files">Other Files</a></li>
  </ul></li>
  <li><a href="#real-time-data" id="toc-real-time-data" class="nav-link" data-scroll-target="#real-time-data">Real-Time Data</a></li>
  <li><a href="#future-directions" id="toc-future-directions" class="nav-link" data-scroll-target="#future-directions">Future Directions</a></li>
  <li><a href="#github-repos" id="toc-github-repos" class="nav-link" data-scroll-target="#github-repos">GitHub Repos</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/SWFSC/glider-lab-manual/edit/main/content/slocum-glider-data.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SWFSC/glider-lab-manual/blob/main/content/slocum-glider-data.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/SWFSC/glider-lab-manual/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/data-proc-overview.html">Data Processing</a></li><li class="breadcrumb-item"><a href="../content/slocum-glider-data.html">Slocum Glider Data</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Slocum Glider Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>There are many steps and flavors to Slocum glider data processing (hereafter ‘glider data processing’), from the base processing of binary files to NetCDF for Slocum gliders, to QA/QC, to developing additional data products. This page outlines the ESD glider lab’s data processing workflow, in particular around base processing and data products.</p>
<p>Users interested in understanding and accessing data products created for each deployment should see the <a href="#data-products">Data Products</a> section. For acoustic or image processing workflows, see the <a href="../content/active-acoustics.html">acoustics</a> and <a href="../content/imagery.html">imagery</a> pages, respectively.</p>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>Historically, the ESD glider team processed glider data using the Matlab toolbox <a href="https://github.com/socib/glider_toolbox"><code>SOCIB</code></a>. However, this toolbox is not actively maintained, and the majority of ESD processing efforts have moved to Google Cloud (GCP), an environment where Matlab is difficult to run. Subsequent efforts involved developing <a href="https://github.com/us-amlr/amlr-gliders"><code>amlr-gliders</code></a>, a Python toolbox and scripts that were primarily wrappers around <a href="https://github.com/kerfoot/gdm"><code>gdm</code></a>. These efforts never caught full traction.</p>
<p>Currently, the ESD glider lab uses the <a href="https://github.com/SWFSC/esdglider"><code>esdglider</code></a> Python toolbox and scripts to do its base glider data processing. <code>esdglider</code> primarily consists of ESD-specific wrappers around existing toolboxes such as <a href="https://pyglider.readthedocs.io/en/latest/"><code>PyGlider</code></a>, <a href="https://glidertools.readthedocs.io/en/latest/"><code>GliderTools</code></a>, and <a href="https://dbdreader.readthedocs.io/en/latest/"><code>dbdreader</code></a>. All efforts are geared towards processing ESD glider data in ESD’s Google Cloud project, using an <a href="https://openscapes.org/">Open Science approach</a>.</p>
<!-- Todo: create and add flow chart, a la [here](https://github.com/SAEL-SWFSC/SAEL-lab-manual/blob/main/content/images/FOSSA.JPG) -->
<section id="terminology" class="level3">
<h3 class="anchored" data-anchor-id="terminology">Terminology</h3>
<p>Common terminology used in glider data processing:</p>
<ul>
<li>glider-YYYYmmdd: The deployment name, which follows the convention of {glider name} - {date as year month day}. For instance, “amlr01-20181201” indicates the deployment of glider amlr01, deployed on 1 December 2018.</li>
<li>mode: the mode of glider data acquisition, either real-time (‘rt’) or delayed-mode (‘delayed’). The delayed data is the full resolution dataset, which can be downloaded from the glider only after the glider has been recovered. The rt data is a subset of the full-resolution data from the delayed mode, that has been transmitted via Iridium while the glider is deployed.</li>
<li><a href="https://ioos.github.io/glider-dac/glider-background-and-sampling-terminology.html#sampling-pattern-terminology">Profile, and other sampling terminology</a></li>
<li><a href="https://docs.unidata.ucar.edu/netcdf-c/current/">NetCDF</a></li>
<li>inflection: when a glider is transitioning from a dive to a climb, or from a climb to a dive</li>
<li><a href="https://oceangliderscommunity.github.io/OG-format-user-manual/vocabularyCollection/tableOfControlledVocab.html">OG1.0 controlled vocabulary</a> (also see <a href="https://oceangliderscommunity.github.io/OG-format-user-manual/OG_Format.html">OG1.0 background</a>)</li>
</ul>
</section>
</section>
<section id="base-processing" class="level2">
<h2 class="anchored" data-anchor-id="base-processing">Base Processing</h2>
<p>The base glider data processing, also referred to as “Level 1” or “L1” processing, is primarily done using <a href="https://pyglider.readthedocs.io/en/latest/"><code>PyGlider</code></a>, hereafter simply <code>pyglider</code>. <code>pyglider</code> creates CF-compliant timeseries and gridded NetCDF files, which can be both used internally in further workflows, as well as made publicly available through an ERDDAP (e.g., via the <a href="https://gliders.ioos.us/">IOOS Glider DAC</a>).</p>
<p>These base processing details apply to both real-time and delayed-mode data.</p>
<section id="overview" class="level3">
<h3 class="anchored" data-anchor-id="overview">Overview</h3>
<p>The current high-level workflow is shown below. For more in-the-weeds details, see the relevant sections below. See <a href="#data-products">data products</a> for a description of the output files.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/base-proc-workflow.jpg" class="img-fluid figure-img"></p>
<figcaption>ESD’s base glider data processing</figcaption>
</figure>
</div>
<ol type="1">
<li>Enter all glider build and deployment info in the database, and upload all deployment files as specified on the <a href="../content/data-management.html#deployments">data management page</a></li>
<li>Create a <a href="#deployment-yaml-files">deployment YAML file</a></li>
<li>Create a <a href="#deployment-processing-scripts">deployment-specific processing script</a>, and run it in a GCP Workbench Instance top create data products</li>
<li>Access processed NetCDF files via GCP for additional internal workflows</li>
<li>(in development) serve/archive data with IOOS/NCEI</li>
</ol>
<section id="binary_to_nc" class="level4">
<h4 class="anchored" data-anchor-id="binary_to_nc">binary_to_nc</h4>
<p>The <code>binary_to_nc</code> function is the workhorse of the <code>esdglider</code> base processing for Slocum gliders. This function is described in-depth in the <a href="#timeseries">Timeseries</a> and <a href="#gridded">Gridded</a> sections.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/binary_to_nc.JPG" class="img-fluid figure-img"></p>
<figcaption>esdglider’s <code>binary_to_nc</code> inputs, outputs, and top-level helper functions</figcaption>
</figure>
</div>
</section>
<section id="deployment-yaml-files" class="level4">
<h4 class="anchored" data-anchor-id="deployment-yaml-files">deployment YAML files</h4>
<p>Like <code>pyglider</code>, <code>esdglider</code> relies on deployment YAML files (i.e., deployment configs) for all metadata related to a glider deployment. These files contain information such as <a href="https://ioos.github.io/glider-dac/ngdac-netcdf-file-format-version-2.html">metadata required by IOOS</a>, what devices were on the glider and when they were last calibrated, and the data (i.e., sensor names) to extract from the binary data. See the <a href="https://pyglider.readthedocs.io/en/latest/getting-started-slocum.html#make-a-deployment-configuration-file"><code>pyglider</code> docs</a> for more details about the deployment YAML file.</p>
<p>To help generate these files, <code>esdglider</code> includes the script <a href="https://github.com/SWFSC/esdglider/blob/main/scripts/generate-deployment_yaml.py">generate-deployment_yaml.py</a>, which can be run locally (i.e., wherever it can access the database) to create a first draft deployment YAML file. This script scrapes all instrument information from the Glider Database, and adds standard metadata. A user needs to then edit this file by hand, in particular the people, devices, comment, and summary blocks. The individual metadata blocks are documented <a href="https://ioos.github.io/glider-dac/ngdac-netcdf-file-format-version-2.html#description-and-examples-of-required-global-attributes">here</a>. Deployment YAMLs for all ESD glider deployments are stored in the <a href="https://github.com/SWFSC/glider-lab/tree/main/deployment-configs">glider-lab repo</a>.</p>
</section>
<section id="deployment-processing-scripts" class="level4">
<h4 class="anchored" data-anchor-id="deployment-processing-scripts">deployment processing scripts</h4>
<p>All base processing is performed by deployment-specific Python processing scripts, which can also be found in the <a href="https://github.com/SWFSC/glider-lab/tree/main/deployment-scripts">glider-lab repo</a>. These scripts create NetCDF files, acoustic and/or imagery data products (if necessary), and standard plots. A template script ‘glider-YYYYmmdd-template.py’ can be found in the same glider-lab repo folder. To start a new script, users should 1) make a copy of the template and rename it for the desired deployment, 2) update the “deployment_name” and “mode” variables at the top of the file, and 3) uncomment base processing sections that are relevant for that deployment.</p>
<p>Deployment scripts are designed to be run in Google Cloud, so that they are able to access data stored in the GCS buckets. Currently, they are all run in the ‘glider-proc’ GCP Workbench Instance.</p>
</section>
</section>
<section id="data-products" class="level3">
<h3 class="anchored" data-anchor-id="data-products">Data Products</h3>
<p>The <code>esdglider</code> toolbox heavily leverages <code>dbdreader</code> and <code>pyglider</code> to create several different ‘L1’ base processing data products, which are described in this section. For descriptions of the various standard plots, see the <a href="#plots">Plots</a> section. See the individual base processing sections for specific processing steps, choices, etc.</p>
<p>All output files begin with the deployment name ({glider-YYYYmmdd}), and include the data processing ‘mode’ (i.e., delayed or rt). The timeseries data products are all NetCDF files with a single coordinate “time”. The gridded data products are all NetCDF files with two coordinates: “depth” and “profile” (i.e., profile_index). An exception is the ‘profiles’ CSV, which contains the start/end times, depths, and other info for each profile.</p>
<p>Standard data products:</p>
<ul>
<li><p><strong>science timeseries:</strong> {glider-YYYYmmdd}-{mode}-sci.nc: The ‘science’ timeseries. Most users will want this dataset, as it contains the values from all of the various science sensors. Functionally speaking, this timeseries has one ‘row’ of data for each timestamp from the glider’s <em>science</em> computer with valid science sensor data. See <a href="#eng--sci">eng/sci</a> for more details, as well <a href="#processing-notes">processing notes</a> for specific data post-processing steps.</p></li>
<li><p><strong>science gridded 5m:</strong> {glider-YYYYmmdd}_grid-{mode}-5m.nc: The science timeseries, gridded into <em>five</em> meter bins. This NetCDF file will include all of the science sensor values that were in the science timeseries. Users should note that the depth bin name is the bin midpoint. For instance, the bin for data from zero to five meters has the name/label “2.5”.</p></li>
<li><p><strong>images+science timeseries:</strong> {glider-YYYYmmdd}-imagery-metadata.csv: A CSV file with one row for each image, and one column for each sensor value. The sensor values from the science timeseries are interpolated to each image timestamp. This file is only created if the glider is carrying a camera, such as a shadowgraph or glidercam, and lives in the raw glider imagery bucket (e.g.&nbsp;<a href="https://console.cloud.google.com/storage/browser/amlr-gliders-imagery-raw-dev/SANDIEGO/2022/amlr08-20220513/metadata">here</a>)</p></li>
</ul>
<p>Additional data products:</p>
<ul>
<li><p><strong>raw timeseries:</strong> {glider-YYYYmmdd}-{mode}-raw.nc: The ‘raw’ timeseries is the raw data, simply read from the binary data files and saved as a NetCDF (no interpolation). It contains all timestamp from the glider’s flight <em>or</em> science computer with at least one valid sensor value. No interpolation is done for any sensor values. These two features make this dataset useful for a) calculating profiles and b) troubleshooting any sensor values or processing steps.</p></li>
<li><p><strong>engineering timeseries:</strong> {glider-YYYYmmdd}-{mode}-eng.nc: The ‘engineering’ timeseries. Functionally speaking, this timeseries has one ‘row’ of data for each timestamp from the glider’s <em>flight</em> computer with valid engineering sensor data. See <a href="#eng--sci">eng/sci</a> for more details, as well <a href="#processing-notes">processing notes</a> for specific data post-processing steps.</p></li>
<li><p><strong>profile summary:</strong> {glider-YYYYmmdd}-{mode}-profiles.csv: A CSV file with one row for each profile, containing information such as: profile index, profile start and end time, profile start and end depth, profile phase, and length of profile in seconds. Note that this file contains “#.5” profiles, which mark the times between profiles when the glider is at the surface or inflecting.</p></li>
<li><p><strong>science gridded 1m:</strong> {glider-YYYYmmdd}_grid-{mode}-1m.nc: The science timeseries, gridded into <em>one</em> meter bins. This NetCDF file will include all of the science sensor values that were in the science timeseries. Like for the 5m gridded dataset, users should note that the depth bin name is the bin midpoint. For instance, the bin for data from zero to one meter has the name/label “0.5”.</p></li>
<li><p><strong>acoustic metadata files</strong>: Files needed for processing acoustic data with Echoview. See the <a href="../content/active-acoustics.html">active acoustics</a> page for more details. These files, which live in the glider active acoustics bucket (e.g.&nbsp;<a href="https://console.cloud.google.com/storage/browser/amlr-gliders-acoustics-dev/SANDIEGO/2022/amlr08-20220513/metadata/echoview">here</a>), are only created if the glider is carrying an active acoustic instrument, such as a Nortek or AZFP</p></li>
</ul>
</section>
<section id="timeseries" class="level3">
<h3 class="anchored" data-anchor-id="timeseries">Timeseries</h3>
<p>This section describes in-the-weeds details of and choices choices made by the code when using the binary slocum glider files to generate timeseries files. See <a href="#data-products">data products</a> for a description of the timeseries output files.</p>
<p>The <code>pyglider.slocum.binary_to_timeseries</code> function uses <a href="https://dbdreader.readthedocs.io/en/latest/"><code>dbdreader</code></a> to read Slocum glider data from binary files. More discussion can be found <a href="https://github.com/c-proof/pyglider/issues/106">here</a> around why <code>pyglider</code> switched to using <code>dbdreader</code>, and how <code>pyglider</code> processing worked before. Many <code>pyglider</code> functions, including <code>binary_to_timeseries</code>, rely on a <a href="#deployment-yaml-files">deployment yaml configuration file</a> for e.g.&nbsp;metadata and mapping sensor names to NetCDF variable names.</p>
<p>As constructed, <code>binary_to_timeseries</code> uses <a href="https://dbdreader.readthedocs.io/en/latest/multiple_files.html#dbdreader.MultiDBD.get_sync"><code>dbdreader.get_sync</code></a> to extract values for all of the specified sensors. Specifically, the user specifies a particular sensor to server as the ‘time base’, and then all other desired variables (across science and engineering) are interpolated onto the relevant timestamps. The ‘relevant’ timestamps are where this ‘time base’ variable has a valid (i.e., not missing or nan) value. Comprehensive interpolation always happens for the engineering variables; however, no interpolation is done for the science variables if the gap between time points is greater than or equal to ‘maxgap’ seconds. This avoids interpolation over large gaps in the data, for instance when a sensor malfunctioned or was turned off. Within ESD, we use a maxgap of 60 seconds. These maxgap principles apply across all of the <code>esdglider</code> timeseries.</p>
<section id="raw" class="level4">
<h4 class="anchored" data-anchor-id="raw">Raw</h4>
<p>There is no way to use <code>binary_to_timeseries</code> to generate the raw timeseries, meaning a timeseries with uninterpolated data. For this, we use the <code>esdglider</code> function <code>binary_to_raw_timeseries</code>. This function follows the same general logic as <code>pyglider</code>’s <code>binary_to_timeseries</code>, except that it uses the <code>dbdreader</code> function <a href="https://dbdreader.readthedocs.io/en/latest/multiple_files.html#dbdreader.MultiDBD.get"><code>get</code></a>, with <code>return_nans=True</code>, to extract all valid timestamps across the specified variables. In practice, this means that all valid timestamps are extracted for both the engineering variables (from the flight computer’s “m_present_time”) and the science variables (from the science computer’s “sci_m_present_time”). These timestamp arrays are merged, and the merged array becomes the time index of the raw timeseries NetCDF file.</p>
<p>This dataset contains both the measured depth (“depth_measured”) and the depth calculated from the CTD pressure sensor (“depth_ctd”). No values are interpolated. Invalid timestamps are still dropped, as well as timestamps that either a) invalid (i.e., they have no non-nan sensor values), and b) came before the “deployment_min_dt” metadata attribute in the <code>deployment.yaml</code> file. Values that are calculated and included in the raw dataset include “depth_ctd” and “distance_over_ground”: the great-circle distance between each measured lat/lon.</p>
<p>The raw timeseries contains all glider data points, except for those dropped as specified above, and is thus particularly useful for debugging code or sensor behavior. It is also used to calculate profiles. Profiles can be tricksy to calculate, as sometimes the glider stalls in the water or otherwise has a moment that causes it to deviate from its current dive or climb. To robustly find profiles in the timeseries, <code>esdglider</code> uses the raw glider measured depth (from the glider’s pressure transducer) and the <code>findProfiles</code> function from the <a href="https://github.com/OceanGNS/PGPT/blob/main/scripts/gliderfuncs.py#L196">PGPT toolbox</a>. <code>findProfiles</code> is a Pythonic reproduction of a <a href="https://github.com/socib/glider_toolbox/blob/master/m/processing_tools/findProfiles.m">function of the same name</a> from the <code>SOCIB</code> toolbox. Summary information about the profiles can be found in the profile summary CSV.</p>
</section>
<section id="eng-sci" class="level4">
<h4 class="anchored" data-anchor-id="eng-sci">Eng + Sci</h4>
<p>After generating the raw timeseries, the typical ESD workflow is to use <code>pyglider</code>‘s <code>binary_to_timeseries</code> to create an ’engineering’ timeseries with the glider measured depth (sensor name “m_depth”) as the time base, and a ‘science’ timeseries with the pressure from the CTD (sensor name “sci_water_pressure”) as the time base. The engineering timeseries is always created this way. However, for the science timeseries, this system is predicated on the CTD being turned on and sampling at all times during a deployment. If the CTD is turned off, then there will be no pressure values, and <code>get_sync</code> will not return some timestamps that have non-nan values for another instrument. For these deployments, <code>esdglider</code> includes the function <code>raw_to_sci_timeseries</code>. This function reads in the <a href="#raw">raw timeseries</a>, and performs the maxgap interpolation for timestamps that have a non-nan value for any of the science sensors. <code>raw_to_sci_timeseries</code> can be used in cases where different science sensors are on at different times, such as PAM deployments, and thus it is not possible to get the full science timeseries using <code>get_sync</code>.</p>
<p>Usually, the engineering and science timeseries each contain a single “depth” data variable. For the engineering timeseries, the “depth” value in this timeseries is from m_depth, meaning the measured depth from the glider, while the “depth” value for the science timeseries is the depth calculated from the CTD pressure sensor. The variable source is documented in the “depth” variable attributes. For science timeseries that are created via <code>raw_to_sci_timeseries</code>, the glider measured depth is included as the variable “depth_measured”, for timestamps where the CTD was off and thus there is no CTD-derived depth.</p>
<p>Additionally, rather than performing new profile calculations, the profiles calculated from the raw dataset are applied to both the engineering and science timeseries. This is particularly important for the science timeseries, which only contains valid timestamps from the science computer. These timestamps do not necessarily represent the entire deployment. Using the profiles calculated from the raw dataset both uses the best available information for the profile calculations, and keeps the profiles consistent across all of the <code>esdglider</code> timeseries.</p>
</section>
<section id="processing-notes" class="level4">
<h4 class="anchored" data-anchor-id="processing-notes">Processing Notes</h4>
<p>Other timeseries data alterations, or additional features of note:</p>
<p>CDOM data: <a href="https://www.seabird.com/">Sea-Bird Scientific</a> sent an announcement that states that there may be incorrect CDOM values if an ECOPuck instrument was serviced before Jan 13, 2023. These data are in the process of being fixed in the base processing scripts. See <a href="https://github.com/SWFSC/glider-lab/issues/70">this issue</a> for more details, and the latest updates.</p>
<p><code>esdglider</code>:</p>
<ul>
<li>deployment_min_date: <code>esdglider</code> requires users to pass a minimum datetime, which is used to filter all timeseries for data only after this datetime. This value is passed via a “deployment_min_date” key in the deployment YAML file. ESD typically uses the datetime of when the glider begins its first 1k_n.mi mission as the minimum datetime.</li>
<li><code>esdglider</code> post-processing steps drop any bogus values from the engineering and science timeseries, meaning it changes these values to nan. Bogus values are defined as:
<ul>
<li>times before deployment_min_dt, or after the current datetime</li>
<li>duplicate timestamps, identified by <code>ds.get_index("time").duplicated()</code></li>
<li>longitude/latitude values with an absolute value greater than 180/90, respectively.</li>
<li>sensor values outside of sensor-specific valid ranges. Valid ranges are defined in the <code>drop_values</code> variable in the <a href="https://github.com/SWFSC/esdglider/blob/main/esdglider/utils.py"><code>esdglider.utils</code></a> module.</li>
</ul></li>
<li>“distance_over_ground” and relevant global attributes are recalculated, after bogus values and timestamps are dropped.</li>
</ul>
<p><code>dbdreader</code>:</p>
<ul>
<li><code>dbdreader</code> throws a warning if a sensor is turned off and thus not present in some sbd/tbd or dbd/ebd files. See <a href="https://github.com/smerckel/dbdreader/issues/26">this issue</a> for more discussion.</li>
<li><code>dbdreader</code> by default skips the first line of each binary file. The reasoning is that “this line contains either nonsense values, or values that were read a long time ago. This behavior can be changed.” See <a href="https://github.com/smerckel/dbdreader/issues/18">this issue</a> for more discussion.</li>
<li><code>dbdreader</code> only identifies sensors as ‘engineering’ or ‘science’. Thus, when extracting any science variable, <code>dbdreader</code> uses “sci_m_present_time” as the timestamp. For instance, for the data for the sensor “sci_oxy4_oxygen” have “sci_m_present_time” as the timestamp, rather than “sci_oxy4_present_time”.</li>
<li><code>dbdreader</code> has <a href="https://dbdreader.readthedocs.io/en/latest/dbdreader.html#module-dbdreader.decompress">functions</a> for decompressing compressed glider binary files. However, it can also read <em>.</em>cd files directly, as long as the cache files are uncompressed.</li>
</ul>
<p><code>pyglider.binary_to_timeseries</code>:</p>
<ul>
<li>Any values of zero from science sensors are converted to <code>nan</code>.</li>
<li>Salinity, potential density, density, and potential temperature are calculated using the Gibbs seawater toolbox, as long as temperature, conductivity, and pressure are in the dataset.</li>
</ul>
<p>Additionally, sometimes a data issue is too deployment-specific to handle in the <code>esdglider</code> base processing. For instance, sometimes a certain depth reading breaks the <code>findProfiles</code> function, or the timeseries contains invalid values from the science computer restarting. In these cases, a code block fixing these data issues is added to the deployment processing script. Another example of this is <a href="https://github.com/SWFSC/glider-lab/issues/70">correcting the CDOM values</a> after a manufacturer error.</p>
</section>
</section>
<section id="gridded" class="level3">
<h3 class="anchored" data-anchor-id="gridded">Gridded</h3>
<p>This section describes in-the-weeds details of and choices made by the code when using the science timeseries to generate gridded datasets. See <a href="#data-products">data products</a> for a description of the gridded output files.</p>
<p>Gridding uses the <a href="https://pyglider.readthedocs.io/en/latest/pyglider/pyglider.ncprocess.html#pyglider.ncprocess.make_gridfiles"><code>pyglider.ncprocess.make_gridfiles</code></a> function. <code>make_gridfiles</code> turns the science timeseries netCDF file into a vertically gridded NetCDF, using <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.binned_statistic.html"><code>binned_statistic</code></a> to grid data variables. This NetCDF has dimensions of “depth” and “profile” (i.e., “profile_index”). Some variables (e.g., time, lat, and lon) have one dimension (“profile”), while all of the sensor values have both dimensions.</p>
<p>This NetCDF file will include all of the science sensor values that were in the science timeseries. Users should note that the depth bin name is the bin midpoint. For instance, for a five-meter gridded dataset, the bin for data from zero to five meters has the name/label “2.5”.</p>
</section>
<section id="plots" class="level3">
<h3 class="anchored" data-anchor-id="plots">Plots</h3>
<p>Standard plots are generated from either the ‘processed-rt’ (subfolder ‘rt’) or ‘processed-L1’ data (subfolder ‘delayed’). Note that ‘sci’ is short for plots of science sensor values, while ‘eng’ is short for plots of engineering variables. All plots are are grouped by folder:</p>
<ul>
<li>TS-sci: Temperature/salinity plots of the various science sensor values</li>
<li>maps-sci: Maps of surface values (i.e., depth &lt;10m) from various science sensors</li>
<li>pointMaps: Scatter plots of the lat/lon points recorded by the glider</li>
<li>spatialGrids-sci: Gridded science data plotted by combinations of latitude, longitude, and depth</li>
<li>spatialSections-sci: Gridded science data plotted by either latitude or longitude, and depth</li>
<li>thisVsThat-eng: Timeseries plots of various engineering sensor values plotted against each other</li>
<li>timeSections-sci: Gridded science data plotted by time and depth</li>
<li>timeSections-sci-gt: Gridded science data plotted by profile_index and depth. The plots are made with the <code>glidertools</code><a href="https://glidertools.readthedocs.io/en/latest/_generated/glidertools.plot.plot_functions.html">plot module</a>, and thus use the 0.5 and 99.5 percentile to set color limits.</li>
<li>timeSeries-eng: Timeseries plots of various engineering sensor values</li>
<li>timeSeries-sci: Timeseries plots of various science sensor values</li>
</ul>
</section>
<section id="ngdac-profiles" class="level3">
<h3 class="anchored" data-anchor-id="ngdac-profiles">NGDAC Profiles</h3>
<p>Docs in progress.</p>
<p>This section will describe the process of going from the science timeseries to the NetCDF file format specification (<a href="https://ioos.github.io/glider-dac/ngdac-netcdf-file-format-version-2.html">IOOS_Glider_NetCDF_v2.0.nc</a>) used by the U.S. IOOS National Glider Data Assembly Center.</p>
</section>
<section id="other-files" class="level3">
<h3 class="anchored" data-anchor-id="other-files">Other Files</h3>
<p>Docs in progress.</p>
<p>ESD’s base processing also creates several other files necessary for processing or using data from other sensors on the glider. If the glider is carrying a shadowgraph or glidercam camera system, then a CSV file is created that links each image with the relevant glider measurements at that time (depth, temperature, oxygen concentration, etc.). If the glider is carrying an acoustic instrument, specific files are needed to process these data using Echoview. These files are created during the base processing step as well.</p>
</section>
</section>
<section id="real-time-data" class="level2">
<h2 class="anchored" data-anchor-id="real-time-data">Real-Time Data</h2>
<p>Currently, all ESD glider data processing is delayed-mode processing. The vision is to have GCP infrastructure in place to:</p>
<ul>
<li>Periodically rsync real-time data (sbd/tbd files) from the SFMC to GCP</li>
<li>Run slocumRtDataVisTool to create plots and statistics useful for real-time piloting decisions</li>
<li>Run the base processing steps on these data, and automatically send the processed files to the NGDAC</li>
</ul>
</section>
<section id="future-directions" class="level2">
<h2 class="anchored" data-anchor-id="future-directions">Future Directions</h2>
<p>QC + data cleaning, to create cleaned netcdf files with qc flags. Potential resources and pathways:</p>
<ul>
<li>Implement <a href="https://ioos.noaa.gov/project/qartod/">IOOS QARTOD</a> tests, eg using <a href="https://github.com/ioos/ioos_qc">ioos_qc</a> to add qc flags</li>
<li>https://github.com/OceanGlidersCommunity/Realtime-QC
<ul>
<li>https://github.com/castelao/CoTeDe</li>
</ul></li>
<li>other qc/data cleaning? For instance, sanity check ts plots. Likely will involve by-hand inspection for each deployment, including removing bad data if discovered</li>
</ul>
<p><a href="https://github.com/GliderToolsCommunity/GliderTools">GliderTools</a>:</p>
<ul>
<li><a href="https://doi.org/10.3389/fmars.2019.00738">manuscript</a> describing the GliderTools toolbox</li>
<li>GliderTools contains tools for processing Seaglider basestation files. However, the rest of the tools simply require that the data be in an xarray dataset.</li>
<li>optics, pq: quenching correction method described by Thomalla et al.&nbsp;(2018)</li>
<li>additional qc tools?</li>
<li>calculate cool physics things (mixed layer depth, …)</li>
<li>leverage gridded plotting routines</li>
</ul>
</section>
<section id="github-repos" class="level2">
<h2 class="anchored" data-anchor-id="github-repos">GitHub Repos</h2>
<p>See the <a href="../index.html#github-repositories">home page</a> for ESD-developed repos. External GitHub repos that are particularly relevant or useful:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>repo link</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://github.com/smerckel/dbdreader">dbdreader</a></td>
<td>Extract data from Slocum binary files</td>
</tr>
<tr class="even">
<td><a href="https://github.com/c-proof/pyglider">pyglider</a></td>
<td>Takes data from Teledyne/Webb Slocum gliders and Alseamar SeaExplorers and creates CF-compliant NetCDF files</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/GliderToolsCommunity/GliderTools">GliderTools</a></td>
<td>Quality control and plot generic glider data</td>
</tr>
<tr class="even">
<td><a href="https://github.com/ioos/ioos_qc">IOOS qc</a></td>
<td>Apply IOOS QARTOD and other qc routines</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/socib/glider_toolbox">SOCIB</a></td>
<td>Process glider data in Matlab (not actively maintained)</td>
</tr>
<tr class="even">
<td><a href="https://github.com/OceanGlidersCommunity/glider-tools-list">glider tools list</a></td>
<td><a href="https://github.com/OceanGlidersCommunity">OceanGliders community</a> repository to list tools for processing glider data. Includes many of the tools listed above.</td>
</tr>
</tbody>
</table>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/swfsc\.github\.io\/glider-lab-manual\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© <a href="https://github.com/SWFSC/glider-lab-manual/blob/main/LICENSE">CC0-1.0</a></p>
</div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/SWFSC/glider-lab-manual/edit/main/content/slocum-glider-data.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SWFSC/glider-lab-manual/blob/main/content/slocum-glider-data.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/SWFSC/glider-lab-manual/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>